{"mappings":"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","sources":["src/index.js"],"sourcesContent":["export default class ShapeOverlays {\r\n\tstatic registerGSAP(gsap) {\r\n\t\tShapeOverlays.gsap = gsap\r\n\t}\r\n\r\n\tconstructor(options = {}) {\r\n\t\tconst {\r\n\t\t\tsvgClass,\r\n\t\t\tpathClass,\r\n\t\t\tnumberPoints = 5,\r\n\t\t\tdelayPoints = 0.3,\r\n\t\t\tdelayPaths = 0.2,\r\n\t\t\tduration = 1,\r\n\t\t\tease = 'power2.inOut'\r\n\t\t} = options\r\n\r\n\t\tthis.gsap = ShapeOverlays.gsap || window.gsap\r\n\r\n\t\tthis.svg = document.querySelector(svgClass)\r\n\t\tthis.path = [...(this.svg?.querySelectorAll(pathClass) || [])]\r\n\t\tthis.numberPoints = numberPoints\r\n\t\tthis.numberPaths = this.path.length\r\n\t\tthis.delayPoints = delayPoints\r\n\t\tthis.delayPaths = delayPaths\r\n\t\tthis.duration = duration\r\n\t\tthis.ease = ease\r\n\t\tthis.isOpened = false\r\n\t\tthis.pointsDelay = []\r\n\t\tthis.allPoints = []\r\n\r\n\t\tif (!this.svg) return\r\n\r\n\t\tthis.animation()\r\n\t\tthis.paths()\r\n\t}\r\n\r\n\tanimation() {\r\n\t\tthis.tl = gsap.timeline({\r\n\t\t\tonUpdate: this.render,\r\n\t\t\tdefaults: {\r\n\t\t\t\tease: this.ease,\r\n\t\t\t\tduration: this.duration\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tpaths() {\r\n\t\tthis.allPoints = []\r\n\r\n\t\tfor (let i = 0; i < this.numberPaths; i++) {\r\n\t\t\tconst points = []\r\n\r\n\t\t\tfor (let j = 0; j < this.numberPoints; j++) {\r\n\t\t\t\tpoints.push(100)\r\n\t\t\t}\r\n\r\n\t\t\tthis.allPoints.push(points)\r\n\t\t}\r\n\t}\r\n\r\n\trender = () => {\r\n\t\tthis.path.map((path, i) => {\r\n\t\t\tconst points = this.allPoints[i]\r\n\t\t\tlet d = ''\r\n\r\n\t\t\td += this.isOpened ? `M 0 0 V ${points[0]} C` : `M 0 ${points[0]} C`\r\n\r\n\t\t\tfor (let j = 0; j < this.numberPoints - 1; j++) {\r\n\t\t\t\tlet p = (j + 1) / (this.numberPoints - 1) * 100\r\n\t\t\t\tlet cp = p - (1 / (this.numberPoints - 1) * 100) / 2\r\n\r\n\t\t\t\td += ` ${cp} ${points[j]} ${cp} ${points[j+1]} ${p} ${points[j+1]}`\r\n\t\t\t}\r\n\r\n\t\t\td += this.isOpened ? ` V 100 H 0` : ` V 0 H 0`\r\n\t\t\tpath.setAttribute('d', d)\r\n\t\t})\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tthis.tl.progress(0).clear()\r\n\r\n\t\tfor (let i = 0; i < this.numberPoints; i++) {\r\n\t\t\tthis.pointsDelay[i] = Math.random() * this.delayPoints\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.numberPaths; i++) {\r\n\t\t\tconst points = this.allPoints[i]\r\n\t\t\tconst pathDelay = this.delayPaths * (this.isOpened ? i : (this.numberPaths - i - 1))\r\n\r\n\t\t\tfor (let j = 0; j < this.numberPoints; j++) {\r\n\t\t\t\tconst delay = this.pointsDelay[j]\r\n\r\n\t\t\t\tthis.tl.to(points, {\r\n\t\t\t\t\t[j]: 0\r\n\t\t\t\t}, delay + pathDelay)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonClick() {\r\n\t\tif (!this.tl.isActive()) {\r\n\t\t\tthis.isOpened = !this.isOpened\r\n\r\n\t\t\tthis.toggle()\r\n\t\t}\r\n\t}\r\n}"],"names":[],"version":3,"file":"index.module.js.map"}